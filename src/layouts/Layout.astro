---
import "../styles/global.css";
---
<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="generator" content={Astro.generator} />
        <title>LocalGPT- Your Personal AI Assistant</title>
        <script is:inline>
            (function () {
                try {
                    const KEY = 'theme';
                    const saved = localStorage.getItem(KEY);
                    const prefers = window.matchMedia('(prefers-color-scheme: dark)').matches;
                    const dark = saved ? saved === 'dark' : prefers;
                    if (dark) document.documentElement.classList.add('dark');
                } catch {}
            })();
        </script>
    </head>
    <body class="bg-gray-50 dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100">
        <div class="min-h-screen flex">
          <!-- Sidebar scaffold -->
          <aside class="hidden md:flex w-64 flex-col gap-2 p-4 border-r border-gray-200 dark:border-zinc-800 bg-gray-50/60 dark:bg-zinc-900/40">
            <div class="text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-zinc-400 mb-1">Conversations</div>
            <div class="text-sm text-gray-600 dark:text-zinc-300">History pane coming soonâ€¦</div>
            <ul class="mt-3 space-y-1 text-sm">
              <li><a class="block px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-zinc-800" href="#">Example chat A</a></li>
              <li><a class="block px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-zinc-800" href="#">Example chat B</a></li>
            </ul>
          </aside>
          <!-- Main content -->
          <main class="flex-1 p-4">
            <slot />
          </main>
        </div>
        <script is:inline>
          (function () {
            try {
              const KEY = 'theme';
              const saved = localStorage.getItem(KEY);
              const prefers = window.matchMedia('(prefers-color-scheme: dark)').matches;
              const dark = saved ? saved === 'dark' : prefers;
              const root = document.documentElement;
              root.classList.toggle('dark', dark);
              const b = document.getElementById('theme-toggle');
              if (b) b.textContent = dark ? 'Light mode' : 'Dark mode';
            } catch {}
          })();
        </script>
    </body>
</html>

<style>
    html,
    body {
        margin: 0;
        width: 100%;
        height: 100%;
    }
</style>
